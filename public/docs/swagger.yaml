swagger: '2.0'

info:
  version: "0.0.1"
  title: daza.io RESTful API
  description: |
    
    请求响应示例
    ```json
    {
        "code": 0,
        "message": "...",
        "errors": [
            {
                "code": 10000,
                "field": "user",
                "message": "用户 不存在。"
            }
        ],
        "pagination": {
            "total": 10,
            "per_page": 10,
            "current_page": 1,
            "last_page": 1,
            "from": 1,
            "to": 10
        },
        "data": {
            ...
        }
    }
    ```
    
    - Authentication
    - Pagination
    - Rate Limiting
      ```
      Retry-After: 30
      X-RateLimit-Limit: 60
      X-RateLimit-Remaining: 0
      ```
    - User Agent Required
    
    - In-app Pages
      - `/in-app/articles/{article_id}`
    - App Links
      - `daza://users/{user_id}`
      - `daza://categories/{category_id}`
      - `daza://topics/{topic_id}`
      - `daza://articles/{article_id}`
      - `daza://tags/{tag_name}`
    - Email
      - app@daza.io
      - hi@daza.io
      - report@daza.io
      - support@daza.io
basePath: /
schemes:
  - http
  - https
produces:
  - application/json
consumes:
  - application/json

tags:
  - name: oauth2
  - name: account
  - name: users
  - name: categories
  - name: topics
  - name: articles
  - name: tags
  - name: notifications

parameters:
  page:
    name: page
    in: query
    description: 页码
    type: integer
  user-id:
    name: user_id
    in: path
    description: 用户Id
    type: integer
    required: true
  category-id:
    name: category_id
    in: path
    description: 分类Id
    type: integer
    required: true
  topic-id:
    name: topic_id
    in: path
    description: 主题Id
    type: integer
    required: true
  article-id:
    name: article_id
    in: path
    description: 文章Id
    type: integer
    required: true
  article-comment-id:
    name: article_comment_id
    in: path
    description: 文章评论Id
    type: integer
    required: true
  tag-name:
    name: tag_name
    in: path
    description: 标签名称
    type: string
    required: true
  notification-id:
    name: notification_id
    in: path
    description: 通知Id
    type: integer
    required: true

securityDefinitions:
  jwt_auth:
    type: apiKey
    name: Authorization
    in: header
    description: JWT
paths:
  /oauth/token:
    post:
      tags:
        - oauth2
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/AccessToken'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /account/register:
    post:
      tags:
        - account
      parameters:
        - name: username
          in: formData
          description: 用户名
          type: string
          required: true
        - name: email
          in: formData
          description: 邮箱
          type: string
          required: true
        - name: password
          in: formData
          description: 密码
          type: string
          format: password
          required: true
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/User'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /account/login:
    post:
      tags:
        - account
      parameters:
        - name: email
          in: formData
          description: 邮箱
          type: string
          required: true
        - name: password
          in: formData
          description: 密码
          type: string
          required: true
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/User'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /account/logout:
    post:
      tags:
        - account
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /account/password_reset:
    post:
      tags:
        - account
      parameters:
        - name: email
          in: formData
          description: 邮箱
          type: string
          required: true
        - name: verify_code
          in: formData
          description: 验证码
          type: string
          required: true
        - name: new_password
          in: formData
          description: 新密码
          type: string
          format: password
          required: true
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /account/password_modify:
    post:
      tags:
        - account
      parameters:
        - name: old_password
          in: formData
          description: 原密码
          type: string
          format: password
          required: true
        - name: new_password
          in: formData
          description: 新密码
          type: string
          format: password
          required: true
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /account/profile:
    get:
      tags:
        - account
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/User'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
    put:
      tags:
        - account
      parameters:
        - name: name
          in: formData
          type: string
          description: 名称
        - name: first_name
          in: formData
          type: string
          description: 名
        - name: last_name
          in: formData
          type: string
          description: 姓
        - name: avatar_url
          in: formData
          type: string
          description: 头像链接（原始尺寸）
        - name: use_gravatar
          in: formData
          type: boolean
          description: 使用Gravatar
        - name: age
          in: formData
          type: integer
          description: 年龄
        - name: gender
          in: formData
          type: string
          description: 性别
          enum:
            - unspecified
            - secrecy
            - male
            - female
        - name: birthday
          in: formData
          type: string
          description: 生日
        - name: country
          in: formData
          type: string
          description: 国家
        - name: city
          in: formData
          type: string
          description: 城市
        - name: company
          in: formData
          type: string
          description: 公司
        - name: website
          in: formData
          type: string
          description: 主页
        - name: bio
          in: formData
          type: string
          description: 简介
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/User'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /users/{user_id}:
    parameters:
      - $ref: '#/parameters/user-id'
    get:
      tags:
        - users
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/User'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /users/{user_id}/relationship:
    parameters:
      - $ref: '#/parameters/user-id'
    post:
      tags:
        - users
      parameters:
        - name: action
          in: formData
          description: 动作 [follow, unfollow]
          type: string
          required: true
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /users/{user_id}/followers:
    parameters:
      - $ref: '#/parameters/user-id'
    get:
      tags:
        - users
      parameters:
        - $ref: '#/parameters/page'
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              pagination:
                $ref: '#/definitions/Pagination'
              data:
                type: array
                items:
                  $ref: '#/definitions/UserRelationship'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /users/{user_id}/following:
    parameters:
      - $ref: '#/parameters/user-id'
    get:
      tags:
        - users
      parameters:
        - $ref: '#/parameters/page'
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              pagination:
                $ref: '#/definitions/Pagination'
              data:
                type: array
                items:
                  $ref: '#/definitions/UserRelationship'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /users/{user_id}/topics:
    parameters:
      - $ref: '#/parameters/user-id'
    get:
      tags:
        - users
      parameters:
        - $ref: '#/parameters/page'
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              pagination:
                $ref: '#/definitions/Pagination'
              data:
                type: array
                items:
                  $ref: '#/definitions/Topic'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /categories:
    get:
      tags:
        - categories
      parameters:
        - $ref: '#/parameters/page'
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              pagination:
                $ref: '#/definitions/Pagination'
              data:
                type: array
                items:
                  $ref: '#/definitions/Category'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /categories/{category_id}:
    parameters:
      - $ref: '#/parameters/category-id'
    get:
      tags:
        - categories
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/Category'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /categories/{category_id}/topics:
    parameters:
      - $ref: '#/parameters/category-id'
    get:
      tags:
        - categories
      parameters:
        - $ref: '#/parameters/page'
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              pagination:
                $ref: '#/definitions/Pagination'
              data:
                type: array
                items:
                  $ref: '#/definitions/Topic'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /categories/{category_id}/articles:
    parameters:
      - $ref: '#/parameters/category-id'
    get:
      tags:
        - categories
      parameters:
        - $ref: '#/parameters/page'
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              pagination:
                $ref: '#/definitions/Pagination'
              data:
                type: array
                items:
                  $ref: '#/definitions/Article'
  /topics:
    get:
      tags:
        - topics
      parameters:
        - $ref: '#/parameters/page'
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              pagination:
                $ref: '#/definitions/Pagination'
              data:
                type: array
                items:
                  $ref: '#/definitions/Topic'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
    post:
      tags:
        - topics
      parameters:
        - name: category_id
          in: formData
          description: 分类Id
          type: integer
          required: true
        - name: type
          in: formData
          description: 类型
          type: string
          enum:
            - feed
            - official
            - original
          required: true
        - name: name
          in: formData
          description: 名称
          type: string
          required: true
        - name: website
          in: formData
          description: 主页
          type: string
        - name: image_url
          in: formData
          description: 图片链接（原始尺寸）
          type: string
        - name: description
          in: formData
          description: 描述
          type: string
          required: true
        - name: source_format
          in: formData
          description: 文章来源格式
          type: string
        - name: source_link
          in: formData
          description: 文章来源链接
          type: string
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/Topic'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /topics/{topic_id}:
    parameters:
      - $ref: '#/parameters/topic-id'
    get:
      tags:
        - topics
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/Topic'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
    delete:
      tags:
        - topics
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /topics/{topic_id}/articles:
    parameters:
      - $ref: '#/parameters/topic-id'
    get:
      tags:
        - topics
      parameters:
        - $ref: '#/parameters/page'
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              pagination:
                $ref: '#/definitions/Pagination'
              data:
                type: array
                items:
                  $ref: '#/definitions/Article'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /topics/{topic_id}/subscribers:
    parameters:
      - $ref: '#/parameters/topic-id'
    get:
      tags:
        - topics
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/TopicSubscriber'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /topics/{topic_id}/subscribe:
    parameters:
      - $ref: '#/parameters/topic-id'
    post:
      tags:
        - topics
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /topics/{topic_id}/unsubscribe:
    parameters:
      - $ref: '#/parameters/topic-id'
    post:
      tags:
        - topics
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /articles:
    get:
      tags:
        - articles
      parameters:
        - $ref: '#/parameters/page'
        - name: category_id
          in: query
          description: 分类Id
          type: integer
        - name: category_slug
          in: query
          description: 分类slug
          type: string
          enum:
            - latest
            - popular
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              pagination:
                $ref: '#/definitions/Pagination'
              data:
                type: array
                items:
                  $ref: '#/definitions/Article'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
    post:
      tags:
        - articles
      parameters:
        - name: topic_id
          in: formData
          description: 主题Id
          type: integer
          required: true
        - name: title
          in: formData
          description: 标题
          type: string
          required: true
        - name: summary
          in: formData
          description: 摘要
          type: string
        - name: image_url
          in: formData
          description: 图片链接（原始尺寸）
          type: string
        - name: content
          in: formData
          description: 内容
          type: string
          required: true
        - name: author
          in: formData
          description: 作者
          type: string
        - name: author_link
          in: formData
          description: 作者链接
          type: string
        - name: source
          in: formData
          description: 来源
          type: string
        - name: source_link
          in: formData
          description: 来源链接
          type: string
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/Article'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /articles/{article_id}:
    parameters:
      - $ref: '#/parameters/article-id'
    get:
      tags:
        - articles
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/Article'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
    put:
      tags:
        - articles
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/Article'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
    delete:
      tags:
        - articles
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /articles/{article_id}/votes:
    parameters:
      - $ref: '#/parameters/article-id'
    get:
      tags:
        - articles
      parameters:
        - name: type
          in: formData
          description: 类型 [up, down]
          type: string
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              pagination:
                $ref: '#/definitions/Pagination'
              data:
                type: array
                items:
                  $ref: '#/definitions/ArticleVote'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
    post:
      tags:
        - articles
      parameters:
        - name: type
          in: formData
          description: 类型 [up, down]
          type: string
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /articles/{article_id}/comments:
    parameters:
      - $ref: '#/parameters/article-id'
    get:
      tags:
        - articles
      parameters:
        - $ref: '#/parameters/page'
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              pagination:
                $ref: '#/definitions/Pagination'
              data:
                type: array
                items:
                  $ref: '#/definitions/ArticleComment'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
    post:
      tags:
        - articles
      parameters:
        - name: content
          in: formData
          description: 内容
          type: string
          required: true
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/ArticleComment'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /articles/{article_id}/comments/{article_comment_id}:
    parameters:
      - $ref: '#/parameters/article-id'
      - $ref: '#/parameters/article-comment-id'
    delete:
      tags:
        - articles
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /articles/{article_id}/viewers:
    parameters:
      - $ref: '#/parameters/article-id'
    get:
      tags:
        - articles
      parameters:
        - $ref: '#/parameters/page'
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              pagination:
                $ref: '#/definitions/Pagination'
              data:
                type: array
                items:
                  $ref: '#/definitions/ArticleViewer'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /tags:
    get:
      tags:
        - tags
      parameters:
        - $ref: '#/parameters/page'
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              pagination:
                $ref: '#/definitions/Pagination'
              data:
                type: array
                items:
                  $ref: '#/definitions/Tag'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
    post:
      tags:
        - tags
      parameters:
        - name: name
          in: formData
          description: 名称
          type: string
          required: true
        - name: standard_name
          in: formData
          description: 标准名称
          type: string
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/Tag'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /tags/{tag_name}:
    parameters:
      - $ref: '#/parameters/tag-name'
    get:
      tags:
        - tags
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/Tag'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /notifications:
    get:
      tags:
        - notifications
      parameters:
        - $ref: '#/parameters/page'
        - name: type
          in: formData
          description: 类型
          type: string
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              pagination:
                $ref: '#/definitions/Pagination'
              data:
                type: array
                items:
                  $ref: '#/definitions/Notification'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /notifications/{notification_id}:
    parameters:
      - $ref: '#/parameters/notification-id'
    get:
      tags:
        - notifications
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/Notification'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
    delete:
      tags:
        - notifications
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /notifications/mark:
    post:
      tags:
        - notifications
      parameters:
        - name: notification_id
          in: formData
          description: 通知Id
          type: integer
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
  /assets:
    get:
      tags:
        - assets
      parameters:
        - $ref: '#/parameters/page'
        - name: type
          in: formData
          description: 类型
          type: string
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
              pagination:
                $ref: '#/definitions/Pagination'
              data:
                type: array
                items:
                  $ref: '#/definitions/Asset'
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
    post:
      tags:
        - assets
      parameters:
        - name: mime_type
          in: formData
          description: MIME类型
          type: string
        - name: size
          in: formData
          description: 大小
          type: integer
        - name: url
          in: formData
          description: 链接
          type: string
      responses:
        200:
          description: OK
          schema:
            properties:
              code:
                type: integer
        default:
          description: error payload
          schema:
            $ref: '#/definitions/Result'
definitions:
  Result:
    type: object
    required:
      - code
    properties:
      code:
        type: integer
        format: int32
      message:
        type: string
      errors:
        type: array
        items:
          $ref: '#/definitions/Error'
  Pagination:
    type: object
    properties:
      total:
        type: integer
      per_page:
        type: integer
      current_page:
        type: integer
      last_page:
        type: integer
      from:
        type: integer
      to:
        type: integer
  Error:
    type: object
    required:
      - code
      - message
    properties:
      code:
        type: integer
        format: int32
      field:
        type: string
      message:
        type: string
  AccessToken:
    type: object
    properties:
      token_type:
        type: string
      expires_in:
        type: integer
        format: int32
      access_token:
        type: string
      refresh_token:
        type: string
  User:
    type: object
    description: 用户
    required:
      - id
      - username
      - email
    properties:
      id:
        type: integer
        description: Id
      username:
        type: string
        description: 用户名
      email:
        type: string
        description: 邮箱
      mobile:
        type: string
        description: 手机
      password:
        type: string
        format: password
        description: 密码
      name:
        type: string
        description: 名称
      first_name:
        type: string
        description: 名
      last_name:
        type: string
        description: 姓
      avatar_url:
        type: string
        description: 头像链接（原始尺寸）
      user_gravatar:
        type: boolean
        description: 使用Gravatar头像
      age:
        type: integer
        description: 年龄
      gender:
        type: string
        description: 性别
        enum:
          - unspecified
          - secrecy
          - male
          - female
      birthday:
        type: string
        description: 生日
      country:
        type: string
        description: 国家
      city:
        type: string
        description: 城市
      address:
        type: string
        description: 地址
      phone:
        type: string
        description: 电话
      company:
        type: string
        description: 公司
      website:
        type: string
        description: 主页
      bio:
        type: string
        description: 简介
      status:
        type: integer
        description: 状态[ 0 => 'Unactive', 1 => 'Active']
      site_admin:
        type: boolean
        description: 站点管理员
      jwt_token:
        $ref: '#/definitions/AccessToken'
  UserRelationship:
    type: object
    description: 用户关系
    required:
      - id
      - user_id
      - target_user_id
    properties:
      id:
        type: integer
        description: Id
      user_id:
        type: integer
        description: 用户Id
      target_user_id:
        type: integer
        description: 目标用户Id
  Category:
    type: object
    description: 分类
    required:
      - id
      - name
    properties:
      id:
        type: integer
        description: Id
      slug:
        type: string
        description: Slug
      name:
        type: string
        description: 名称
      image_url:
        type: string
        description: 图片链接（原始尺寸）
      description:
        type: string
        description: 描述
      topic_count:
        type: integer
        description: 主题数
  Topic:
    type: object
    description: 主题
    required:
      - id
      - user_id
    properties:
      id:
        type: integer
        description: Id
      user_id:
        type: integer
        description: 用户Id
      category_id:
        type: integer
        description: 分类Id
      type:
        type: string
        description: 类型
        enum:
          - feed
          - original
          - official
      name:
        type: string
        description: 名称
      website:
        type: string
        description: 主页
      image_url:
        type: string
        description: 图片链接（原始尺寸）
      description:
        type: string
        description: 描述
      source_format:
        type: string
        description: 文章来源格式
        enum:
          - daza+json
          - atom+xml
          - rss+xml
      source_link:
        type: string
        description: 文章来源链接
      article_count:
        type: integer
        description: 文章数
      subscriber_count:
        type: integer
        description: 订阅数
  TopicSubscriber:
    type: object
    description: 主题订阅者
    required:
      - id
      - user_id
      - topic_id
    properties:
      id:
        type: integer
        description: Id
      user_id:
        type: integer
        description: 用户Id
      topic_id:
        type: integer
        description: 主题Id
  Article:
    type: object
    description: 文章
    required:
      - id
      - user_id
    properties:
      id:
        type: integer
        description: Id
      user_id:
        type: integer
        description: 用户Id
      topic_id:
        type: integer
        description: 主题Id
      guid:
        type: string
        description: 文章唯一标识符
      type:
        type: string
        description: 类型
        enum:
          - ad
      link:
        type: string
        description: 文章链接
      title:
        type: string
        description: 标题
      summary:
        type: string
        description: 摘要
      content:
        type: string
        description: 内容
      image_url:
        type: string
        description: 图片链接（原始尺寸）
      audio_url:
        type: string
        description: 音频链接
      video_url:
        type: string
        description: 视频链接
      author:
        type: string
        description: 作者
      author_email:
        type: string
        description: 作者邮箱
      author_link:
        type: string
        description: 作者链接
      source:
        type: string
        description: 来源
      source_link:
        type: string
        description: 来源链接
      upvote_count:
        type: integer
        description: 赞成票数
      downvote_count:
        type: integer
        description: 反对票数
      view_count:
        type: integer
        description: 阅读数
      comment_count:
        type: integer
        description: 评论数
      published_at:
        type: string
        format: date-time
        description: 发布时间
      tags:
        type: array
        items:
          $ref: '#/definitions/ArticleTag'
  ArticleVote:
    type: object
    description: 文章投票
    required:
      - id
    properties:
      id:
        type: integer
        description: Id
      user_id:
        type: integer
        description: 用户Id
      article_id:
        type: integer
        description: 文章Id
      type:
        type: string
        description: 类型[up, down]
  ArticleComment:
    type: object
    description: 文章评论
    required:
      - id
      - user_id
      - article_id
    properties:
      id:
        type: integer
        description: Id
      user_id:
        type: integer
        description: 用户Id
      article_id:
        type: integer
        description: 文章Id
      content:
        type: string
        description: 内容
  ArticleViewer:
    type: object
    description: 文章阅读者
    required:
      - id
      - article_id
    properties:
      id:
        type: integer
        description: Id
      user_id:
        type: integer
        description: 用户Id
      article_id:
        type: integer
        description: 文章Id
      ip_address:
        type: string
        description: IP地址
      user_agent:
        type: string
        description: UserAgent
  ArticleTag:
    type: object
    description: 文章标签
    required:
      - id
      - article_id
    properties:
      id:
        type: integer
        description: Id
      article_id:
        type: integer
        description: 文章Id
      name:
        type: string
        description: 名称
  Tag:
    type: object
    description: 标签
    required:
      - id
      - name
    properties:
      id:
        type: integer
        description: Id
      name:
        type: string
        description: 名称
      standard_name:
        type: string
        description: 标准名称
      image_url:
        type: string
        description: 图片链接（原始尺寸）
      description:
        type: string
        description: 描述
  Notification:
    type: object
    description: 通知
    required:
      - id
    properties:
      id:
        type: integer
        description: Id
      user_id:
        type: integer
        description: 用户Id
      type:
        type: string
        description: 类型
      title:
        type: string
        description: 标题
      content:
        type: string
        description: 内容
      unread:
        type: string
        description: 通知未读
  Asset:
    type: object
    description: 资源
    required:
      - id
    properties:
      id:
        type: integer
        description: Id
      user_id:
        type: integer
        description: 用户Id
      target_type:
        type: string
        description: 目标类型
        enum:
          - category
          - topic
          - article
          - tag
      target_id:
        type: integer
        description: 目标Id
      mime_type:
        type: string
        description: MIME类型
      size:
        type: integer
        description: 大小
      url:
        type: string
        description: 链接
